{"version":3,"sources":["components/Home.js","components/App.js","contexts/Web3Context.js","components/MainApp.js","index.js"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","require","Home","_useState","useState","_useState2","_slicedToArray","setOpen","_useState3","_useState4","username","setUsername","_useState5","_useState6","password","setPassword","_useState7","_useState8","error","setError","_useState9","_useState10","isRegistered","setIsRegistered","_useState11","_useState12","currentUsername","setCurrentUsername","_useState13","_useState14","_useWeb","useWeb3","web3","contract","account","navigate","useNavigate","useEffect","checkIfRegistered","_ref","_asyncToGenerator","_callee","existingUsername","_context","methods","getUsername","from","t0","apply","arguments","generateKeys","_ref2","_callee2","keyPair","publicKeyHex","privateKeyHex","_context2","sodium","ready","crypto_kx_keypair","to_hex","publicKey","privateKey","localStorage","setItem","concat","handleSignUpSubmit","_ref3","_callee3","passwordErrors","transactionPromise1","_context3","getPasswordStrengthError","join","registerUser","send","setTimeout","state","receipt","alert","message","handleLogin","_ref4","_callee4","hashedPassword","_username","storedHashedPassword","_context4","utils","keccak256","getPasswordHash","errors","test","React","createElement","className","Fragment","placeholder","onChange","target","onClick","RC4","key","_classCallCheck","j","initialize","_createClass","_toConsumableArray","map","char","charCodeAt","input","output","k","byte","encrypted","process","Buffer","toString","encryptedMessage","encryptedBytes","decrypted","String","fromCharCode","App","logout","setMessage","allMessages","setAllMessages","senders","setSenders","selectedSender","setSelectedSender","isModalOpen","setIsModalOpen","isProfileModalOpen","setIsProfileModalOpen","registeredContacts","setRegisteredContacts","_useState15","_useState16","ChatWindow","setChatWindow","_useState17","_useState18","sidebar","setSideBar","_useState19","_useState20","senderName","setSenderName","location","useLocation","_useWeb2","setAccount","intervalId","setInterval","fetchMessagesForSender","fetchMessages","clearInterval","deriveEncryptionKey","recipientPublicKeyHex","recipientPublicKey","rawSecret","derivedKey","key1","key2","getPublicKey","getItem","from_hex","crypto_scalarmult","crypto_kdf_derive_from_key","sendMessage","_ref5","sessionKeyHex","rc4","gasEstimate","transactionPromise","encrypt","estimateGas","console","log","gas","_ref6","_callee5","_allMessages","uniqueSenders","sendersWithNames","_context5","fetchAllMessagesForLoggedInAccount","Set","msg","sender","recipient","all","_ref7","getUserName","t1","address","_x","_ref8","_callee6","_context6","getUsernameByAddress","_x2","_ref9","_callee7","_allMessages2","messagesWithSender","formattedMessages","_iterator","_step","_context7","filter","_objectSpread","timestamp","direction","sort","b","_createForOfIteratorHelper","content","decrypt","_x3","fetchRegisteredContacts","_ref10","_callee8","result","addresses","usernames","users","_context8","getAllRegisteredUsers","index","user","handleAllContactsClick","_ref11","_callee9","_context9","handleContactClick","_ref12","_callee10","_context10","closeModal","_x4","groupMessagesByDate","messages","groupedMessages","messageDate","Date","toLocaleDateString","senderObj","xmlns","width","height","viewBox","fill","fill-rule","clip-rule","style","maxHeight","overflowY","date","msgIndex","toLocaleTimeString","hour","minute","rows","src","alt","Web3Context","createContext","useContext","Web3Provider","children","setWeb3","setContract","web3Instance","accounts","networkId","deployedNetwork","contractInstance","window","ethereum","Web3","request","eth","getAccounts","net","getId","MessageStoreContract","networks","Contract","abi","initWeb3","Provider","MainApp","Routes","Route","path","element","ReactDOM","render","StrictMode","HashRouter","document","getElementById"],"mappings":"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","file":"static/js/main.abf9a1cc.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useWeb3 } from '../contexts/Web3Context.js'; // Import the custom hook for web3 context\nimport Web3 from 'web3'; // Import Web3 to generate keys\nimport { sha256 } from 'js-sha256'; // Hash function to simulate randomness based on the address\nimport sodium from \"libsodium-wrappers\";\nimport './Home.css'; // Import Home specific styles\n\nconst crypto = require('crypto');\nconst fs = require('fs');\n\nconst Home = () => {\n    const [open, setOpen] = useState(false);\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState(''); // New state for password\n    const [error, setError] = useState('');\n    const [isRegistered, setIsRegistered] = useState(false);\n    const [currentUsername, setCurrentUsername] = useState('');\n    const [currentAccount, setCurrentAccount] = useState('');\n    \n    const { web3, contract, account } = useWeb3(); // Access web3, contract, and account from the context\n    const navigate = useNavigate();\n    const secp256k1 = require(\"secp256k1\");\n\n    // Check if user is already registered on page load\n    useEffect(() => {\n\n        \n        if (account && contract) {\n            checkIfRegistered();\n        }\n\n        \n       \n    }, [account, contract]);\n    \n\n    const checkIfRegistered = async () => {\n        try {\n            const existingUsername = await contract.methods.getUsername().call({ from: account });\n            if (existingUsername) {\n                setCurrentUsername(existingUsername);\n                setIsRegistered(true);\n            } else {\n                setIsRegistered(false);\n            }\n        } catch (error) {\n          \n            setError(\"Failed to check registration status.\");\n        }\n    };\n\n    const handleSignUpOpen = () => {\n        setOpen(true);\n    };\n\n    const generateKeys = async () => {\n        await sodium.ready;\n\n        //elliptic curve cryptography (ECC) based on the Curve25519 curve\n        const keyPair = sodium.crypto_kx_keypair();\n      \n        const publicKeyHex = sodium.to_hex(keyPair.publicKey);\n        const privateKeyHex = sodium.to_hex(keyPair.privateKey);\n\n        localStorage.setItem(`privateKey-${account}`, privateKeyHex);\n      \n\n        \n\n        return publicKeyHex;\n    };\n\n    const handleSignUpSubmit = async () => {\n        if (!username || !password) {\n            setError('Username and Password are required');\n            return;\n        }\n        if (username.length < 3 || username.length > 100) {\n            setError('Username must be between 3 and 100 characters');\n            return;\n        }\n\n        const passwordErrors = getPasswordStrengthError(password);\n    \n        if (passwordErrors.length > 0) {\n            setError(passwordErrors.join(' ')); // Join all error messages with space\n            return;\n        }\n        try {\n            const publicKeyHex = await generateKeys();\n\n           \n            const transactionPromise1=  contract.methods.registerUser(username, publicKeyHex, password).send({ from: account });\n          \n\n         \n           \n            setTimeout(() => {\n                // Update the UI after 10 seconds\n              \n                setOpen(false);\n            navigate('/app', { state: { account, username } });\n                \n            }, 20000);\n           \n            // Optionally handle the transaction result later\n            transactionPromise1\n                .then(receipt => {\n                  \n                })\n                .catch(error => {\n                   \n                    alert(\"Transaction failed: \" + error.message);\n                });\n\n            \n\n           \n        } catch (error) {\n           \n            setError(\"Registration failed. Please try again.\");\n        }\n    };\n\n    const handleLogin = async () => {\n        if (!password) {\n            setError('Password is required for login');\n            return;\n        }\n        try {\n            const hashedPassword = web3.utils.keccak256(password);\n\n            const username = await contract.methods.getUsername().call({ from: account });\n\n            const storedHashedPassword = await contract.methods.getPasswordHash(account).call();\n\n            const passwordValid = hashedPassword === storedHashedPassword;\n\n            if (passwordValid) {\n              \n                setCurrentUsername(username);\n                navigate('/app', { state: { account, username } });\n            } else {\n                setError('Invalid password');\n            }\n        } catch (error) {\n         \n            setError(\"Login failed. Please try again.\");\n        }\n    };\n\nconst getPasswordStrengthError = (password) => {\n    const errors = [];\n    \n    if (password.length < 8) {\n        errors.push(\"Password must be at least 8 characters long.\");\n    }\n    if (!/[A-Z]/.test(password)) {\n        errors.push(\"Password must contain at least one uppercase letter.\");\n    }\n    if (!/[a-z]/.test(password)) {\n        errors.push(\"Password must contain at least one lowercase letter.\");\n    }\n    if (!/\\d/.test(password)) {\n        errors.push(\"Password must contain at least one number.\");\n    }\n    if (!/[!@#$%^&*(),.?\":{}|<>]/.test(password)) {\n        errors.push(\"Password must contain at least one special character.\");\n    }\n    \n    return errors;\n};\n\n\n    return (\n        <div className=\"login-container align\">\n            <div className=\"grid\">\n                <div className=\"login-box\">\n                    <h1 className=\"text--center\">Secure Chat App</h1>\n                    {!isRegistered ? (\n                        <>\n                            <h2 className=\"signup-text\">Sign Up</h2>\n                            <div className=\"form\">\n                                <div className=\"form__field\">\n                                    <input\n                                        className=\"form__input\"\n                                        type=\"text\"\n                                        placeholder=\"Username\"\n                                        value={username}\n                                        onChange={(e) => setUsername(e.target.value)}\n                                    />\n                                </div>\n                                <div className=\"form__field\">\n                                    \n                                    <input\n                                        className=\"form__input\"\n                                        type=\"password\"\n                                        placeholder=\"Password\"\n                                        value={password}\n                                        onChange={(e) => setPassword(e.target.value)} // Bind password input\n                                    />\n                                </div>\n                                <button className=\"button login\" onClick={handleSignUpSubmit}>Sign Up</button>\n                            </div>\n                        </>\n                    ) : (\n                        <>\n                            <h2 className=\"login-text\">Welcome Back, {currentUsername}!</h2>\n                            <div className=\"form\">\n                                <div className=\"form__field\">\n                                    <input\n                                        className=\"form__input\"\n                                        type=\"password\"\n                                        placeholder=\"Enter Password to Login\"\n                                        value={password}\n                                        onChange={(e) => setPassword(e.target.value)} // Bind password input\n                                    />\n                                </div>\n                                <button className=\"button login\" onClick={handleLogin}>Login</button>\n                            </div>\n                        </>\n                    )}\n                    {error && <p className=\"error text--center\">{error}</p>} {/* Error handling */}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Home; \n\n","import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport Home from './Home';\nimport { useNavigate } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\nimport { useWeb3 } from '../contexts/Web3Context.js';\nimport sodium from \"libsodium-wrappers\";\n\nclass RC4 {\n    constructor(key) {\n        this.key = key;\n        this.state = [];\n        this.i = 0;\n        this.j = 0;\n        this.initialize();\n    }\n\n    initialize() {\n        const key = [...this.key].map((char) => char.charCodeAt(0));\n        for (let i = 0; i < 256; i++) this.state[i] = i;\n        let j = 0;\n        for (let i = 0; i < 256; i++) {\n            j = (j + this.state[i] + key[i % key.length]) % 256;\n            [this.state[i], this.state[j]] = [this.state[j], this.state[i]];\n        }\n    }\n\n    process(input) {\n        const output = [];\n        for (let k = 0; k < input.length; k++) {\n            this.i = (this.i + 1) % 256;\n            this.j = (this.j + this.state[this.i]) % 256;\n            [this.state[this.i], this.state[this.j]] = [this.state[this.j], this.state[this.i]];\n            const byte = this.state[(this.state[this.i] + this.state[this.j]) % 256];\n            output.push(input[k] ^ byte);\n        }\n        return output;\n    }\n\n    encrypt(message) {\n        const input = [...message].map((char) => char.charCodeAt(0));\n        const encrypted = this.process(input);\n        return Buffer.from(encrypted).toString('hex');\n    }\n\n    decrypt(encryptedMessage) {\n        const encryptedBytes = Buffer.from(encryptedMessage, 'hex');\n        const decrypted = this.process([...encryptedBytes]);\n        return String.fromCharCode(...decrypted);\n    }\n}\n\nconst App = () => {\n    const { logout } = useWeb3();\n    const [message, setMessage] = useState('');\n    const [allMessages, setAllMessages] = useState([]);\n    const [senders, setSenders] = useState([]);\n    const [selectedSender, setSelectedSender] = useState(null);\n    const [isModalOpen, setIsModalOpen] = useState(false);\n    const [isProfileModalOpen, setIsProfileModalOpen] = useState(false);\n    const [registeredContacts, setRegisteredContacts] = useState([]);\n    const [ChatWindow,  setChatWindow] = useState(false);\n    const [sidebar,  setSideBar] = useState(true);\n    const [senderName, setSenderName] = useState(null);\n    const location = useLocation();\n    const navigate = useNavigate();\n    const { contract, account, setAccount } = useWeb3();\n    const username = (location.state && location.state.username) ? location.state.username : '';\n\n   \n    useEffect(() => {\n        // Check if contract and account are initialized before polling\n        if (contract && account) {\n            // Poll based on whether the chat window is open or not\n            const pollMessages = async () => {\n                if (ChatWindow && selectedSender) {\n                    // Fetch messages for the selected sender\n                    await fetchMessagesForSender(selectedSender);\n                } else {\n                    // Fetch general messages\n                    await fetchMessages();\n                }\n            };\n\n            const intervalId = setInterval(pollMessages, 5000); // Poll every 5 seconds\n\n            // Cleanup polling on unmount\n            return () => clearInterval(intervalId);\n        }\n    }, [contract, account, ChatWindow , selectedSender]);  // Dependencies include `selectedSender`\n    \n\n   \n    const deriveEncryptionKey = async () => {\n        try {\n          \n           \n            const recipientPublicKeyHex = await contract.methods.getPublicKey(selectedSender).call({ from: account });\n           \n            const privateKeyHex = localStorage.getItem(`privateKey-${account}`);\n        \n            if (!privateKeyHex) {\n                throw new Error(\"Private key not found in localStorage.\");\n            }\n           \n            const recipientPublicKey = sodium.from_hex(recipientPublicKeyHex);\n           \n            const privateKey = sodium.from_hex(privateKeyHex);\n            \n            const rawSecret = sodium.crypto_scalarmult(privateKey, recipientPublicKey);\n            //BLAKE2B-subkeylen(key=key, message={}, salt=subkey_id || {0}, personal=ctx || {0})\n           \n            const derivedKey = sodium.crypto_kdf_derive_from_key(32, 1, 'encryption', rawSecret);\n            const key1 = `${account}_${selectedSender}`;\n            const key2 = `${selectedSender}_${account}`;\n            localStorage.setItem(key1, sodium.to_hex(derivedKey));\n            localStorage.setItem(key2, sodium.to_hex(derivedKey));\n           \n            return sodium.to_hex(derivedKey);\n        } catch (error) {\n            alert(\"Error deriving encryption key:\", error);\n        }\n    };\n\n    const crypto = require('crypto');\n\n    const sendMessage = async () => {\n        if (!selectedSender || !message) {\n            alert(\"Both recipient and message fields are required.\");\n            return;\n        }\n        if (contract) {\n            try {\n                let sessionKeyHex = localStorage.getItem(`${account}_${selectedSender}`) ||\n                    localStorage.getItem(`${selectedSender}_${account}`);\n\n                if (!sessionKeyHex) {\n                    sessionKeyHex = await deriveEncryptionKey();\n                }\n\n                const rc4 = new RC4(sessionKeyHex);\n                const encryptedMessage = rc4.encrypt(message);\n\n                const gasEstimate = await contract.methods.sendMessage(selectedSender, encryptedMessage).estimateGas({ from: account });\n\n                // Move fetchMessages out of the main execution flow\n            setTimeout(() => {\n                // Update the UI after 20 seconds\n                console.log(\"20 seconds passed. Refreshing messages...\");\n                fetchMessagesForSender(selectedSender); // Fetch messages for selected sender\n                fetchMessages(); // Fetch all messages\n            }, 20000); \n            fetchMessagesForSender(selectedSender); \n            setMessage('');\n            // Send the transaction after the timeout setup\n            const transactionPromise = contract.methods.sendMessage(selectedSender, encryptedMessage).send({ from: account, gas: gasEstimate + 100000 });\n            fetchMessagesForSender(selectedSender); \n            // Handle the transaction result\n            transactionPromise\n                .then(receipt => {\n                    console.log(\"Transaction confirmed:\", receipt);\n                })\n                .catch(error => {\n                    console.error(\"Transaction Error:\", error);\n                    alert(\"Transaction failed: \" + error.message);\n                });\n\n            console.log(\"Transaction sent successfully.\");\n            } catch (error) {\n                console.error(\"Transaction Error:\", error);\n                console.error(\"Error:\", error);\n                alert(\"Transaction failed: \" + error.message);\n            }\n        } else {\n            alert(\"Contract not initialized.\");\n        }\n    };\n    \n\n    \n    const fetchMessages = async () => {\n        if (contract) {\n            try {\n                const allMessages = await contract.methods.fetchAllMessagesForLoggedInAccount().call({ from: account });\n                const uniqueSenders = [...new Set(allMessages.map(msg => msg.sender === account ? msg.recipient : msg.sender))];\n\n                const sendersWithNames = await Promise.all(\n                    uniqueSenders.map(async (sender) => ({\n                        address: sender,\n                        name: await getUserName(sender),\n                    }))\n                );\n                setSenders(sendersWithNames);\n            } catch (error) {\n               \n                alert(\"Error fetching messages: \" + error.message);\n            }\n        } else {\n            alert(\"Contract not initialized.\");\n        }\n    };\n\n    const getUserName = async (address) => {\n        if (contract) {\n            try {\n                const username = await contract.methods.getUsernameByAddress(address).call();\n                return username || address;\n            } catch (error) {\n               \n                return address;\n            }\n        }\n        return address;\n    };\n\n    const fetchMessagesForSender = async (sender) => {\n     \n        setSideBar(false)\n        setChatWindow(true)\n     \n        setSelectedSender(sender);\n       \n        if (contract) {\n            try {\n               \n                const allMessages = await contract.methods.fetchAllMessagesForLoggedInAccount().call({ from: account });\n                \n                const messagesWithSender = allMessages.filter(\n                    msg => (msg.sender === sender && msg.recipient === account) || \n                           (msg.sender === account && msg.recipient === sender)\n                );\n\n                const formattedMessages = messagesWithSender.map(msg => ({\n                    ...msg,\n                    timestamp: msg.timestamp * 1000,\n                    direction: msg.sender === account ? 'sent' : 'received',\n                }));\n\n                formattedMessages.sort((a, b) => a.timestamp - b.timestamp);\n\n                for (let msg of formattedMessages) {\n                    console.log(sender)\n                    console.log(sender)\n                    console.log(account, sender);\n                    console.log(msg.content);\n                    let sessionKeyHex = localStorage.getItem(`${account}_${sender}`) ||\n                        localStorage.getItem(`${sender}_${account}`);\n                       \n                    if (!sessionKeyHex) {\n                       \n                        sessionKeyHex = await deriveEncryptionKey();\n\n                    }\n\n                    const rc4 = new RC4(sessionKeyHex);\n                    msg.content = rc4.decrypt(msg.content);\n                }\n\n                const name = await getUserName(sender);\n                setSenderName(name);\n                setAllMessages(formattedMessages);\n                setSelectedSender(sender);\n            } catch (error) {\n                console.error(\"Error fetching messages for sender:\", error);\n                alert(\"Error fetching messages for sender: \" + error.message);\n            }\n        } else {\n            alert(\"Contract not initialized.\");\n        }\n    };\n    \n    \n\n\n\n    const handleLogout = () => {\n        logout();\n       \n        navigate('/'); // Redirect to the homepage\n        console.log(\"logout\")\n    };\n    const fetchRegisteredContacts = async () => {\n        try {\n            if (contract) {\n                const result = await contract.methods.getAllRegisteredUsers().call({ from: account });\n                const addresses = result[0];\n                const usernames = result[1];\n                const users = addresses.map((address, index) => ({\n                    address,\n                    username: usernames[index],\n                })).filter(user => user.address !== account);\n                setRegisteredContacts(users);\n            }\n        } catch (error) {\n            console.error(\"Error fetching registered users:\", error);\n        }\n    };\n\n    const handleAllContactsClick = async () => {\n        await fetchRegisteredContacts();\n        setIsModalOpen(true);\n    };\n\n    const handleContactClick = async (user) => {\n       \n        setSelectedSender(user.address); // Set the selected sender's address\n         closeModal(); // Close the modal after selecting a contact\n     \n        // Fetch chat history for the selected sender\n        await fetchMessagesForSender(user.address);\n    };\n    \n\n    const closeModal = () => {\n        setIsModalOpen(false);\n    };\n\n    const sidebarfullscreen = () => {\n       \n        setSideBar(true);\n        setChatWindow(false);\n    };\n\n    const chatwindowfullscreen = () => {\n        setChatWindow(true);\n    };\n\n    const profileModalopen=()=>{\n\n    };\n    // Helper function to format date to \"DD/MM/YYYY\"\nconst formatDate = (timestamp) => {\n    const date = new Date(timestamp);\n    return date.toLocaleDateString('en-GB'); // 'en-GB' gives the format DD/MM/YYYY\n  };\n  \n  // Helper function to format time to \"HH:MM\"\n  const formatTime = (timestamp) => {\n    const date = new Date(timestamp);\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }); // Only hour and minute\n  };\n  \n  // Function to group messages by date\n  const groupMessagesByDate = (messages) => {\n    const groupedMessages = {};\n  \n    messages.forEach((message) => {\n      const messageDate = formatDate(message.timestamp);\n      if (!groupedMessages[messageDate]) {\n        groupedMessages[messageDate] = [];\n      }\n      groupedMessages[messageDate].push(message);\n    });\n  \n    return groupedMessages;\n  };\n\n\n  const handleProfileClick =()=>{\n\n    setIsProfileModalOpen(true)\n  };\n\n  const closeProfileModal=()=>{\nsetIsProfileModalOpen(false)\n  };\n  \n\n    return (\n        <div className=\"app\">\n           {sidebar && (\n            <div className=\"sidebar\">\n            \n          \n                <ul className=\"senders-list\">\n                    {senders.length > 0 ? (\n                        senders.map((senderObj, index) => (\n                          \n                            <li key={index} onClick={() => fetchMessagesForSender(senderObj.address)} className={selectedSender === senderObj.address ? 'selected' : ''}>\n                                <span>{senderObj.name}</span>\n                            </li>\n                        ))\n                    ) : (\n                        <li>No chats available</li>\n                    )}\n                </ul>\n            </div>\n           )}\n\n             {/*  header outside the chat container */}\n             <div className=\"header\">\n             <div className=\"profile-info\"  onClick={handleProfileClick}>\n  \n             <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M12 4a8 8 0 0 0-6.96 11.947A4.99 4.99 0 0 1 9 14h6a4.99 4.99 0 0 1 3.96 1.947A8 8 0 0 0 12 4m7.943 14.076q.188-.245.36-.502A9.96 9.96 0 0 0 22 12c0-5.523-4.477-10-10-10S2 6.477 2 12a9.96 9.96 0 0 0 2.057 6.076l-.005.018l.355.413A9.98 9.98 0 0 0 12 22q.324 0 .644-.02a9.95 9.95 0 0 0 5.031-1.745a10 10 0 0 0 1.918-1.728l.355-.413zM12 6a3 3 0 1 0 0 6a3 3 0 0 0 0-6\" clip-rule=\"evenodd\"/></svg>\n\n    <p className=\"profile-text\">Profile</p>\n  \n    </div> \n    <div className='appname'> <h2>Secure Chat App</h2>\n   \n  </div>\n\n  \n\n    <div className=\"header-buttons-container\">\n  <div className=\"chat\" onClick={sidebarfullscreen}>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M5.8 12.2V6H2C.9 6 0 6.9 0 8v6c0 1.1.9 2 2 2h1v3l3-3h5c1.1 0 2-.9 2-2v-1.82a1 1 0 0 1-.2.021h-7zM18 1H9c-1.1 0-2 .9-2 2v8h7l3 3v-3h1c1.1 0 2-.899 2-2V3c0-1.1-.9-2-2-2\"/>\n    </svg>\n    <p className=\"chat-text\">Chats</p>\n  </div>\n\n  <div className=\"contacts\" onClick={handleAllContactsClick}>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 24 24\">\n      <path fill=\"currentColor\" d=\"M4 2a1 1 0 0 0-1 1v2h2v2H2v2h3v2H2v2h3v2H2v2h3v2H3v2a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zm5 14a3 3 0 1 1 6 0zm3-4a2 2 0 1 1 0-4a2 2 0 0 1 0 4\"/>\n    </svg>\n    <p className=\"contacts-text\">Contacts</p>\n  </div>\n</div>\n \n   \n    \n\n</div>\n\n{ChatWindow && (\n            <div className=\"chat-container\">\n            <div className=\"chat-header\">\n  <div className=\"sender-name\">\n    {senderName}\n  </div>\n</div>\n            <div className=\"chat-window\" style={{ maxHeight: '100%', overflowY: 'auto' }}>\n                \n           \n\n<ul className=\"messages\">\n    {(() => {\n        const groupedMessages = groupMessagesByDate(allMessages);\n       // group messages before rendering\n        return Object.keys(groupedMessages).length > 0 ? (\n            Object.keys(groupedMessages).map((date, index) => (\n                <li key={index} className={`message-section ${date}`}>\n                    <div key={date} className=\"date-header\">\n                        {date}\n                        </div>\n                    {groupedMessages[date].map((msg, msgIndex) => (\n                        <div key={msgIndex} className={`message ${msg.direction} ${date}`}>\n                            <p>{msg.content}</p>\n                            <span className=\"timestamp\">{formatTime(msg.timestamp)}</span>\n                        </div>\n                    ))}\n                    \n                </li>\n            ))\n        ) : (\n            <li>No messages to display</li>\n        );\n    })()}\n</ul>\n    <div className=\"message-form\">\n                    <textarea\n                        \n                        value={message}\n                        className=\"message-input\"\n                        rows={1}\n                        onChange={(e) => setMessage(e.target.value)}\n                        placeholder=\"Type a message...\"\n                    />\n                  {/* Send Icon as an Image */}\n                \n                  <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5UlEQVR4nO3WMUpDQRSF4Q/UQhsRbKzdQMAFaCtqmTalYh9wATZuwMIt2FoGRJusIK0QSF4jdnaCXBGmsBFM4purkAN//V+GmTOXZRJzhCmecIGNWuIJ4gsNzrDWtji+YYxTrNQWR2GEboY4CkPsZ4ijMEAnQxx4xy12a4uj8IYb7MwjbhaUf/KKS2zOIj4uBRK/wAv6WJ9lgC3soYcr3JU2m2eAaemAVQtkGwc4xzXu8fzDAR6zxA9/8qhPsi5Xk/WcIqtA4r9U5qD2JzGs/S2Oai8C47ZXn0nWsndY5NXX22W0kQ875CXXn83dMgAAAABJRU5ErkJggg==\" alt=\"send\"\n                className=\"send-icon\" \n                onClick={sendMessage} \n            />\n                </div>\n</div>\n               \n            </div>\n\n    )}\n\n{isProfileModalOpen && (\n  <div className=\"profilemodal\">\n  <div className=\"profile-header\">\n  <h3 className=\"profile-username-label\">Username:</h3>\n      <h2 className=\"profile-username\">{username}</h2>\n      <h3 className=\"profile-account-label\">Account Address:</h3>\n      <p className=\"profile-account\">{account}</p>\n  </div>\n  <div className=\"buttons-container\">\n    <button onClick={closeProfileModal} className=\"sidebar-button cancel-button\">Close</button>\n    <button onClick={handleLogout} className=\"sidebar-button logout-button\">Logout</button>\n  </div>\n</div>\n)}\n            {isModalOpen && (\n    <div className=\"modal\">\n        <div className=\"modal-content\">\n            <h2>Registered Users</h2>\n            <ul className=\"registered-contacts-list\">\n                {registeredContacts.length > 0 ? (\n                    registeredContacts.map((user, index) => (\n                        <li\n                            key={index} \n                            className=\"contact-box\"\n                            onClick={() => handleContactClick(user)}\n                        >\n                            <span className=\"contact-username\">{user.username}</span>\n                          \n                        </li>\n                    ))\n                ) : (\n                    <div>No users found</div>\n                )}\n            </ul>\n            <button onClick={closeModal} className=\"close-button\">Close</button>\n        </div>\n    </div>\n)}\n\n        </div>\n    );\n};\n\nexport default App;\n\n\n\n","import React, { createContext, useContext, useEffect, useState } from 'react';\nimport Web3 from 'web3';\nimport MessageStoreContract from '../abis/MessageStore.json'; // Import the ABI\n\n// Create the Web3 context\nconst Web3Context = createContext();\n\n// Custom hook to access the Web3Context\nexport const useWeb3 = () => {\n    return useContext(Web3Context);\n};\n\n// Web3Provider component\nexport const Web3Provider = ({ children }) => {\n    const [web3, setWeb3] = useState(null);\n    const [contract, setContract] = useState(null);\n    const [account, setAccount] = useState('');\n\n    useEffect(() => {\n        const initWeb3 = async () => {\n            if (window.ethereum) {\n                try {\n                    const web3Instance = new Web3(window.ethereum);\n                    await window.ethereum.request({ method: 'eth_requestAccounts' });\n                    const accounts = await web3Instance.eth.getAccounts();\n                    setAccount(accounts[0]);\n\n                    const networkId = await web3Instance.eth.net.getId();\n                    const deployedNetwork = MessageStoreContract.networks[networkId];\n                    if (deployedNetwork) {\n                        const contractInstance = new web3Instance.eth.Contract(MessageStoreContract.abi, deployedNetwork.address);\n                        setWeb3(web3Instance);\n                        setContract(contractInstance);\n                    } else {\n                        console.error(\"Contract not deployed on this network\");\n                    }\n                } catch (error) {\n                    console.error(\"Web3 initialization failed:\", error);\n                }\n            }\n        };\n\n        initWeb3();\n    }, []);\n\n    // Add a logout function to clear the account\n    const logout = () => {\n        setAccount(null);  // Clear the account to \"log out\" the user\n      \n    };\n\n    return (\n        <Web3Context.Provider value={{ web3, contract, account, setAccount, logout }}>\n            {children}\n        </Web3Context.Provider>\n    );\n};\n","import React from 'react';\nimport { Routes, Route } from 'react-router-dom';\nimport App from './App';\n\nimport Home from './Home'; \nconst MainApp = () => {\n    return (\n        <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/app\" element={<App />} />\n            \n        </Routes>\n    );\n};\n\nexport default MainApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom'; // Import HashRouter\nimport MainApp from './components/MainApp'; // Main App\nimport { Web3Provider } from './contexts/Web3Context'; // Import Web3Context\n\nReactDOM.render(\n  <React.StrictMode>\n    <Web3Provider>\n      <HashRouter>\n        <MainApp />\n      </HashRouter>\n    </Web3Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}